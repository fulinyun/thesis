@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix ecoop: <http://escience.rpi.edu/ontology/eco-op/ecoopProv.ttl#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix skos: <http://www.w3.org/2009/08/skos-reference/skos.rdf#> .
@prefix dctype: <http://purl.org/dc/dcmitype/> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix qudt: <http://qudt.org/1.1/schema/qudt#> .
@prefix doap: <http://usefulinc.com/ns/doap#> .
@prefix : <http://not.sure/yet#> .

# This is the end product, the ecosystem status report.
# Actually, a specific version of the ecosystem status report.
# This version was generated by a specific run of the notebook, derived from a version of the notebook.
:ecosystem_status_report
        a prov:Entity, ecoop:Document ;
        prov:wasGeneratedBy :notebook_run ;
        prov:wasDerivedFrom :notebook_version ;
.

# This represents the actual running of the notebook. As part of that running, each cell is run.
# The running of the notebook uses a particular version of the notebook saved in gist.
# Python libraries are also used to run the notebook, so include references to those here.
:notebook_run
        a prov:Activity ;
        prov:used :notebook_version ;
        prov:used :ecoop_python_library ;
        dct:hasPart :cell_1_run ;
        prov:startedAtTime "2014-03-29T12:26:00-04:00"^^xsd:dateTime ;
        prov:endedAtTime "2014-03-29T12:26:59-04:00"^^xsd:dateTime ;
        prov:wasAssociatedWith <http://tw.rpi.edu/instances/PatrickWest> ;
.

# The notebook is saved as a gist, so this is the gist version of the notebook that we is actually run.
# So this should have version information, when it was released, etc...
:notebook_version
        a prov:Entity, ecoop:IPythonNotebook, doap:Project ;
        doap:developer :massimo ;
        doap:vendor :twc ;
.

# This is the instance of an activity. The notebook is run, and as part of that, each cell is run
:cell_1_run
        a prov:Activity ;
        dct:isPartOf :notebook_run ;
        prov:used :cell_1_version ;
.

# A cell is part of a notebook. The notebook is saved as a gist, so there is now a version of the notebook.
# And this cell version is part of that notebook version
:cell_1_version
        a prov:Entity, ecoop:CodeCell ;
        dct:isPartOf :notebook_version ;
.

# An image that is in the esr
:generated_image
        a prov:Entity ;
        dct:isPartOf :ecosystem_status_report ;
        prov:wasDerivedFrom :python_data ;
        prov:wasGeneratedBy :cell_1_run
.

# The data as read in by python, not the actual dataset.
# This is a different representation of the actual dataset
:python_data
        a prov:Entity ;
        prov:wasDerivedFrom :loaded_data ;
        prov:wasGeneratedBy :cell_1_run ;
.

# The actual source dataset that we read in in order to generate the image
:loaded_data
        a prov:Entity, dcat:Dataset ;
.

